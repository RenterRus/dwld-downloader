# dwld-downloader

Сервис скачиваний

Тезисы:
1. Скачивает видео с разных ресурсов при помощи yt-dlp
2. Запускает разные варианты конфигураций загрузчика по необходимости (стейджи)
3. Принимает по gRPC задачи на вставку ссылки в очередь, ее удаление, а так же предоставление статистики
4. Задачи помещаются в базу sqlite3 (Большие БД тут ни к чему)
5. Перемещает неудавшиеся скачивания по списку загрузчиков (стейджей)
6. Удавшиеся загрузки передает по ftp на указанный сервер в конфиге. При отсуствии конфига или выключенном флаге - не передает, оставляет "под собой"
7. Свое состояние хранит в memcahed (полноценный redis тут ни к чему)
8. Так же держит http-echo сервер для обеспечения проверки healt-check
9. При успешной передаче по ftp - исходный файл удаляется

ROADMAP:

[+] Задать архитектуру проекта (Бот + скачивальщик) <br>
[+] Задать структуру проекта <br>
[+] Предположить первичный контракт (по ходу разработки и поддержки может модифицироваться) <br>
[+] Реализовать считывание конфигов <br>
[+] Реализовать healt-check <br>

<br>

[-] Реализовать первичную инициализацию, запуск и выключение (gracefull-shutdown) серверов (grpc, http) <br>
[-] Реализовать CRUD в psql <br>
[-] Реализовать стеджовый скачивальщикы <br>
[-] Реализовать запись состояния в memcahed <br>
[-] Реализовать получения состояния из memcahed <br>
[-] Реализовать контракты в grpc <br>
[-] Реализовать передачу файлов по ftp <br>

<br>

[-] Написать подробный гайд по запуску этой всей истории <br>

<br>

[-] Приступить к реализации бота  <br>